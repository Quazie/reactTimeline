import parse from 'csv-parse/lib/sync';

export function getLifeExpectancy(year: number) {
    const lifeExpectancy = `2010,78.7,76.2,81.1
2007,77.9,75.4,80.4
2006,77.7,75.1,80.2
2005,77.8,75.2,80.4
20041,77.8,75.2,80.4
2003,77.5,74.8,80.1
2002,77.3,74.5,79.9
2001,77.2,74.4,79.8
2000,77.0,74.3,79.7
1999,76.7,73.9,79.4
1998,76.7,73.8,79.5
1997,76.5,73.6,79.4
1996,76.1,73.1,79.1
1995,75.8,72.5,78.9
1994,75.7,72.4,79.0
1993,75.5,72.2,78.8
1992,75.8,72.3,79.1
1991,75.5,72.0,78.9
1990,75.4,71.8,78.8
1989,75.1,71.7,78.5
1988,74.9,71.4,78.3
1987,74.9,71.4,78.3
1986,74.7,71.2,78.2
1985,74.7,71.1,78.2
1984,74.7,71.1,78.2
1983,74.6,71.0,78.1
1982,74.5,70.8,78.1
1981,74.1,70.4,77.8
1980,73.7,70.0,77.4
1979,73.9,70.0,77.8
1978,73.5,69.6,77.3
1977,73.3,69.5,77.2
1976,72.9,69.1,76.8
1975,72.6,68.8,76.6
1974,72.0,68.2,75.9
1973,71.4,67.6,75.3
19722,71.2,67.4,75.1
1971,71.1,67.4,75.0
1970,70.8,67.1,74.7
1960,69.7,66.6,73.1
1950,68.2,65.6,71.1
1940,62.9,60.8,65.2
1935,61.7,59.9,63.9
1930,59.7,58.1,61.6`;

    const data: number[][] = parse(lifeExpectancy, { cast: true });
    const values = data.find(v => v[0] === year) || data[data.length - 1];
    return values;
}
